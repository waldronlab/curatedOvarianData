##-----------------------------
##settings for createEsetList.R
##-----------------------------

#remove retracted studies?
remove.retracted <- FALSE

#remove studies whose samples are a subset of another?
remove.subsets <- TRUE

#remove genes which had a single probe mapping to multiple genes?
## "keep":  Leave as-is, these have "///" in gene names.
## "drop":  Drop any non-uniquely mapped features.
## "split": Split non-uniquely mapped features to one per row.  
##          If this creates duplicate rows for a gene, these rows are averaged.
probes.not.mapped.uniquely <- "drop"

#rescale each gene to z-score?
rescale <- TRUE

#Keep only genes common to all platforms?
keep.common.only <- FALSE

#only keep studies with at least this many samples
min.sample.size <- 40   

#only keep studies with at least this many events (deaths)
min.number.of.events <- 15

#only keep microarray studies 
min.number.of.genes <- 1000

#quantile of variance ranks above which to keep high-variance genes (ie 0.8 filters 80% of genes).
#0 means no filtering of genes
quantile.cutoff <- 0

#patient metadata which must not be missing
meta.required <- c("days_to_death", "vital_status")

#Regexes for filtering of patients
rule.1 <- c("sample_type","^tumor$")
#rule.2 <- c("histological_type","^ser$")
#rule.3 <- c("summarystage","^late$")
#rule.4 <- c("summarygrade","^high$")

# add Surv objects as phenoData label "y" to the esets
add.surv.y <- function(X) Surv(X$days_to_death, X$vital_status=="deceased")

#if strict.checking is TRUE, patients missing any of the above
#metadata will be remove.  If FALSE, these patients are kept.
strict.checking <- FALSE

#if data contains missing data, should we use the impute Bioconductor package
#to impute?
impute.missing <- FALSE


## samples to remove:
tcga.lowcor.outliers <- c("TCGA_eset:TCGA.24.1927", "TCGA_eset:TCGA.31.1955")
duplicates <-
c("E.MTAB.386_eset:DFCI.124", "GSE12470_eset:GSM312138", "GSE12470_eset:GSM312139", 
"GSE12470_eset:GSM312140", "GSE12470_eset:GSM312141", "GSE12470_eset:GSM312142", 
"GSE12470_eset:GSM312143", "GSE12470_eset:GSM312144", "GSE12470_eset:GSM312145", 
"GSE12470_eset:GSM312146", "GSE12470_eset:GSM312147", "GSE12470_eset:GSM312148", 
"GSE12470_eset:GSM312149", "GSE12470_eset:GSM312150", "GSE12470_eset:GSM312151", 
"GSE12470_eset:GSM312152", "GSE12470_eset:GSM312153", "GSE12470_eset:GSM312154", 
"GSE12470_eset:GSM312155", "GSE12470_eset:GSM312156", "GSE12470_eset:GSM312157", 
"GSE12470_eset:GSM312158", "GSE12470_eset:GSM312160", "GSE12470_eset:GSM312161", 
"GSE12470_eset:GSM312163", "GSE12470_eset:GSM312165", "GSE12470_eset:GSM312167", 
"GSE12470_eset:GSM312168", "GSE12470_eset:GSM312170", "GSE12470_eset:GSM312171", 
"GSE12470_eset:GSM312172", "GSE12470_eset:GSM312173", "GSE12470_eset:GSM312174", 
"GSE12470_eset:GSM312175", "GSE14764_eset:GSM368667", "GSE14764_eset:GSM368668", 
"GSE17260_eset:GSM432225", "GSE17260_eset:GSM432234", "GSE17260_eset:GSM432235", 
"GSE17260_eset:GSM432259", "GSE17260_eset:GSM432265", "GSE17260_eset:GSM432274", 
"GSE17260_eset:GSM432277", "GSE17260_eset:GSM432284", "GSE17260_eset:GSM432287", 
"GSE17260_eset:GSM432290", "GSE17260_eset:GSM432291", "GSE17260_eset:GSM432293", 
"GSE17260_eset:GSM432296", "GSE17260_eset:GSM432298", "GSE17260_eset:GSM432301", 
"GSE17260_eset:GSM432303", "GSE17260_eset:GSM432305", "GSE17260_eset:GSM432308", 
"GSE17260_eset:GSM432311", "GSE17260_eset:GSM432313", "GSE17260_eset:GSM432314", 
"GSE17260_eset:GSM432315", "GSE17260_eset:GSM432318", "GSE17260_eset:GSM432319", 
"GSE17260_eset:GSM432322", "GSE17260_eset:GSM432328", "GSE2109_eset:GSM179822", 
"GSE2109_eset:GSM203725", "GSE2109_eset:GSM203744", "GSE2109_eset:GSM231913", 
"GSE2109_eset:GSM76567", "GSE32062.GPL6480_eset:GSM794865", "GSE32062.GPL6480_eset:GSM794866", 
"GSE32062.GPL6480_eset:GSM794867", "GSE32062.GPL6480_eset:GSM794868", 
"GSE32062.GPL6480_eset:GSM794869", "GSE32062.GPL6480_eset:GSM794870", 
"GSE32062.GPL6480_eset:GSM794871", "GSE32062.GPL6480_eset:GSM794872", 
"GSE32062.GPL6480_eset:GSM794873", "GSE32062.GPL6480_eset:GSM794874", 
"GSE32062.GPL6480_eset:GSM794876", "GSE32062.GPL6480_eset:GSM794877", 
"GSE32062.GPL6480_eset:GSM794878", "GSE32062.GPL6480_eset:GSM794879", 
"GSE32062.GPL6480_eset:GSM794880", "GSE32062.GPL6480_eset:GSM794881", 
"GSE32062.GPL6480_eset:GSM794882", "GSE32062.GPL6480_eset:GSM794883", 
"GSE32062.GPL6480_eset:GSM794884", "GSE32062.GPL6480_eset:GSM794885", 
"GSE32062.GPL6480_eset:GSM794886", "GSE32062.GPL6480_eset:GSM794887", 
"GSE32062.GPL6480_eset:GSM794888", "GSE32062.GPL6480_eset:GSM794890", 
"GSE32062.GPL6480_eset:GSM794891", "GSE32062.GPL6480_eset:GSM794892", 
"GSE32062.GPL6480_eset:GSM794893", "GSE32062.GPL6480_eset:GSM794894", 
"GSE32062.GPL6480_eset:GSM794895", "GSE32062.GPL6480_eset:GSM794896", 
"GSE32062.GPL6480_eset:GSM794897", "GSE32062.GPL6480_eset:GSM794898", 
"GSE32062.GPL6480_eset:GSM794899", "GSE32062.GPL6480_eset:GSM794900", 
"GSE32062.GPL6480_eset:GSM794901", "GSE32062.GPL6480_eset:GSM794902", 
"GSE32062.GPL6480_eset:GSM794903", "GSE32062.GPL6480_eset:GSM794904", 
"GSE32062.GPL6480_eset:GSM794905", "GSE32062.GPL6480_eset:GSM794906", 
"GSE32062.GPL6480_eset:GSM794908", "GSE32062.GPL6480_eset:GSM794917", 
"GSE32062.GPL6480_eset:GSM794933", "GSE32062.GPL6480_eset:GSM794935", 
"GSE32062.GPL6480_eset:GSM794950", "GSE32062.GPL6480_eset:GSM794958", 
"GSE32062.GPL6480_eset:GSM794959", "GSE32062.GPL6480_eset:GSM794960", 
"GSE32062.GPL6480_eset:GSM794961", "GSE32062.GPL6480_eset:GSM794962", 
"GSE32062.GPL6480_eset:GSM794963", "GSE32062.GPL6480_eset:GSM794964", 
"GSE32062.GPL6480_eset:GSM794985", "GSE32062.GPL6480_eset:GSM795004", 
"GSE32062.GPL6480_eset:GSM795022", "GSE32062.GPL6480_eset:GSM795031", 
"GSE32062.GPL6480_eset:GSM795040", "GSE32062.GPL6480_eset:GSM795050", 
"GSE32062.GPL6480_eset:GSM795058", "GSE32062.GPL6480_eset:GSM795066", 
"GSE32062.GPL6480_eset:GSM795080", "GSE32062.GPL6480_eset:GSM795081", 
"GSE32062.GPL6480_eset:GSM795086", "GSE32062.GPL6480_eset:GSM795092", 
"GSE32062.GPL6480_eset:GSM795102", "GSE32062.GPL6480_eset:GSM795107", 
"GSE32062.GPL6480_eset:GSM795108", "GSE32062.GPL6480_eset:GSM795109", 
"GSE32062.GPL6480_eset:GSM795110", "GSE32062.GPL6480_eset:GSM795111", 
"GSE32062.GPL6480_eset:GSM795112", "GSE32062.GPL6480_eset:GSM795113", 
"GSE32062.GPL6480_eset:GSM795114", "GSE32062.GPL6480_eset:GSM795117", 
"GSE32062.GPL6480_eset:GSM795118", "GSE32062.GPL6480_eset:GSM795119", 
"GSE32062.GPL6480_eset:GSM795120", "GSE32062.GPL6480_eset:GSM795121", 
"GSE32062.GPL6480_eset:GSM795122", "GSE32062.GPL6480_eset:GSM795123", 
"GSE32062.GPL6480_eset:GSM795124", "GSE32063_eset:GSM795125", 
"GSE32063_eset:GSM795126", "GSE32063_eset:GSM795127", "GSE32063_eset:GSM795128", 
"GSE32063_eset:GSM795129", "PMID15897565_eset:X0074_1772_h133a_872", 
"PMID15897565_eset:X0074_1773_h133a_922", "PMID15897565_eset:X0074_1774_h133a_1451", 
"PMID15897565_eset:X0074_1775_h133a_1526", "PMID15897565_eset:X0074_1776_h133a_1784", 
"PMID15897565_eset:X0074_1777_h133a_1834", "PMID15897565_eset:X0074_1778_h133a_1846", 
"PMID15897565_eset:X0074_1779_h133a_2075", "PMID15897565_eset:X0074_1780_h133a_2204", 
"PMID15897565_eset:X0074_1781_h133a_2419", "PMID15897565_eset:X0074_1828_h133a_860", 
"PMID15897565_eset:X0074_1829_h133a_1615", "PMID15897565_eset:X0074_1830_h133a_1665", 
"PMID15897565_eset:X0074_1831_h133a_1675", "PMID15897565_eset:X0074_1833_h133a_2422", 
"PMID15897565_eset:X0074_1834_h133a_2465", "PMID15897565_eset:X0074_1835_h133a_2999", 
"PMID15897565_eset:X0074_1836_h133a_3142", "PMID15897565_eset:X0074_1900_h133a_1504", 
"PMID15897565_eset:X0074_1901_h133a_1590", "PMID15897565_eset:X0074_1902_h133a_1623", 
"PMID15897565_eset:X0074_1904_h133a_2324", "PMID15897565_eset:X0074_1905_h133a_1674", 
"PMID15897565_eset:X0074_1906_h133a_1774", "PMID15897565_eset:X0074_1907_h133a_1929", 
"PMID15897565_eset:X0074_1908_h133a_2064", "PMID15897565_eset:X0074_1909_h133a_2967", 
"PMID15897565_eset:X0074_1989_h133a_2198", "PMID15897565_eset:X0074_2003_h133a_2573", 
"PMID15897565_eset:X0074_2004_h133a_2849", "PMID15897565_eset:X0074_2005_h133a_3102", 
"PMID15897565_eset:X0074_2019_h133a_1877", "PMID15897565_eset:X0074_2020_h133a_2046", 
"PMID15897565_eset:X0074_2021_h133a_2479", "PMID15897565_eset:X0074_2026_h133a_2802", 
"PMID15897565_eset:X0074_2027_h133a_2542", "PMID15897565_eset:X0074_2028_h133a_2424", 
"PMID15897565_eset:X0074_2029_h133a_2063", "PMID15897565_eset:X0074_2030_h133a_1024", 
"PMID15897565_eset:X0074_2031_h133a_2739", "PMID15897565_eset:X0074_2032_h133a_2673", 
"PMID15897565_eset:X0074_2033_h133a_2505", "PMID15897565_eset:X0074_2394_h133a_2476", 
"PMID15897565_eset:X0074_2395_h133a_1447", "PMID15897565_eset:X0074_2396_h133a_1913", 
"PMID15897565_eset:X0074_2397_h133a_1552", "PMID15897565_eset:X0074_2398_h133a_1578", 
"PMID15897565_eset:X0074_2399_h133a_3107", "PMID15897565_eset:X0074_2400_h133a_2895", 
"PMID15897565_eset:X0074_2401_h133a_3018", "PMID15897565_eset:X0074_2402_h133a_3090", 
"PMID17290060_eset:X0074_1776_h133a_1784", "PMID17290060_eset:X0193_0000_h133a_D2433", 
"PMID17290060_eset:X0193_0000_h133a_D2726", "PMID19318476_eset:D1805", 
"PMID19318476_eset:D2208", "PMID19318476_eset:D2332", "PMID19318476_eset:D2432", 
"PMID19318476_eset:D2480", "PMID19318476_eset:D2559", "PMID19318476_eset:D2560", 
"PMID19318476_eset:D2575", "PMID19318476_eset:D2576", "PMID19318476_eset:D2611", 
"PMID19318476_eset:D2629", "PMID19318476_eset:D2640", "PMID19318476_eset:D2648", 
"PMID19318476_eset:D2749", "PMID19318476_eset:D2776", "PMID19318476_eset:D2792", 
"PMID19318476_eset:M1054", "PMID19318476_eset:M1055", "PMID19318476_eset:M120", 
"PMID19318476_eset:M1241", "PMID19318476_eset:M1572", "PMID19318476_eset:M17", 
"PMID19318476_eset:M1891", "PMID19318476_eset:M2184", "PMID19318476_eset:M2515", 
"PMID19318476_eset:M2807", "PMID19318476_eset:M337", "PMID19318476_eset:M3484", 
"PMID19318476_eset:M359", "PMID19318476_eset:M4161", "PMID19318476_eset:M444", 
"PMID19318476_eset:M503", "PMID19318476_eset:M5668", "PMID19318476_eset:M5775", 
"TCGA_eset:TCGA.04.1353", "TCGA_eset:TCGA.04.1369", "TCGA_eset:TCGA.04.1516", 
"TCGA_eset:TCGA.04.1644", "TCGA_eset:TCGA.13.0885", "TCGA_eset:TCGA.13.0886", 
"TCGA_eset:TCGA.13.0887", "TCGA_eset:TCGA.13.0889", "TCGA_eset:TCGA.13.0890", 
"TCGA_eset:TCGA.13.1481", "TCGA_eset:TCGA.13.1488", "TCGA_eset:TCGA.13.1489", 
"TCGA_eset:TCGA.13.1499", "TCGA_eset:TCGA.13.2057", "TCGA_eset:TCGA.13.2059", 
"TCGA_eset:TCGA.13.2061", "TCGA_eset:TCGA.13.2065", "TCGA_eset:TCGA.13.2066", 
"TCGA_eset:TCGA.13.2071", "TCGA_eset:TCGA.23.2641", "TCGA_eset:TCGA.23.2643", 
"TCGA_eset:TCGA.23.2647", "TCGA_eset:TCGA.29.2432", "TCGA_eset:TCGA.29.2434", 
"TCGA_eset:TCGA.29.2436", "TCGA_eset:TCGA.36.2529", "TCGA_eset:TCGA.36.2530", 
"TCGA_eset:TCGA.36.2532", "TCGA_eset:TCGA.36.2533", "TCGA_eset:TCGA.36.2537", 
"TCGA_eset:TCGA.36.2538", "TCGA_eset:TCGA.36.2539", "TCGA_eset:TCGA.36.2542", 
"TCGA_eset:TCGA.36.2544", "TCGA_eset:TCGA.36.2547", "TCGA_eset:TCGA.36.2548", 
"TCGA_eset:TCGA.36.2549", "TCGA_eset:TCGA.36.2551", "TCGA_eset:TCGA.36.2552", 
"TCGA_eset:TCGA.42.2582", "TCGA_eset:TCGA.42.2587", "TCGA_eset:TCGA.42.2588", 
"TCGA_eset:TCGA.42.2589", "TCGA_eset:TCGA.42.2590", "TCGA_eset:TCGA.42.2591", 
"TCGA_eset:TCGA.42.2593", "TCGA_eset:TCGA.61.2612", "TCGA_eset:TCGA.61.2613", 
"TCGA_eset:TCGA.61.2614", "TCGA_eset:TCGA.24.1927", "TCGA_eset:TCGA.31.1955"
)
remove.samples <- c(tcga.lowcor.outliers, duplicates)
